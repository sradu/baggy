Findation=window.Findation||{},Findation.Modernizr=function(e,n,i){function t(e){l.cssText=e}function o(e,n){return typeof e===n}var d,a,r={},s=n.documentElement,c=n.createElement("modernizr"),l=c.style,u={},f=[],p=f.slice,m={}.hasOwnProperty;for(var h in a=o(m,"undefined")||o(m.call,"undefined")?function(e,n){return n in e&&o(e.constructor.prototype[n],"undefined")}:function(e,n){return m.call(e,n)},Function.prototype.bind||(Function.prototype.bind=function(i){var o=this;if("function"!=typeof o)throw new TypeError;var d=p.call(arguments,1),a=function(){if(this instanceof a){var e=function(){};e.prototype=o.prototype;var n=new e,t=o.apply(n,d.concat(p.call(arguments)));return Object(t)===t?t:n}return o.apply(i,d.concat(p.call(arguments)))};return a}),u.postmessage=function(){return!!e.postMessage},u)a(u,h)&&(d=h.toLowerCase(),r[d]=u[h](),f.push((r[d]?"":"no-")+d));return r.addTest=function(e,n){if("object"==typeof e)for(var t in e)a(e,t)&&r.addTest(t,e[t]);else{if(e=e.toLowerCase(),r[e]!==i)return r;n="function"==typeof n?n():n,"undefined"!=typeof enableClasses&&enableClasses&&(s.className+=" "+(n?"":"no-")+e),r[e]=n}return r},t(""),c=null,r._version="2.6.2",r}(this,this.document),Findation.iframe=null,Findation.init=window.Findation.init=function(e,n,t){if(Findation.Modernizr.postmessage&&e){var i,o,d=e,a=(t=t||{}).targetProductId||"",r=n,s=t.domain||"https://findation.com",c=t.mode||"none",l=t.productUrl||document.location.href,u=function(e,n,t){return e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent("on"+n,t)},f=function(e){return s+e+"&host="+encodeURIComponent(document.location.host)+"&href="+encodeURIComponent(l)},p=document.createElement("iframe");p.id="findation-button-iframe",p.style.cssText="background-color: transparent; border: 0px none transparent; overflow: hidden; display: inline-block; visibility: visible; margin: 0px; padding: 0px; height: 0px; width: 0px;",p.title="Find Your Shade",p.src=f("/embed/button_inner?mode="+c+"&target_product_id="+a+"&api_key="+r),o=p,(i=d).parentNode.insertBefore(o,i);var m=Findation.iframe||document.createElement("iframe");Findation.iframe=m;var h="position: fixed;\nleft: 0;\ntop: 0;\nwidth: 100%;\nheight: 100%;\nz-index: 9999;\ndisplay: none;",y=window.navigator.userAgent,w=function(){var e=document.body,n=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)};(y.match(/iPad/i)||y.match(/iPhone/i))&&(h=h.replace("position: fixed","position: absolute; min-height: "+w()+"px")),m.setAttribute("frameBorder","0"),m.id="findation-iframe",m.setAttribute("allowtransparency","true"),u(m,"load",function(){return m.style.visibility="visible"}),m.style.cssText=h,m.src=f("/widget_searches/new?mode="+c+"&target_product_id="+a+"&api_key="+r),window.Findation.embedded||(window.Findation.embedded=!0,u(window,"message",function(e){if("overlayClose"==e.data)m.style.display="none","function"==typeof Findation.widgetDidClose&&Findation.widgetDidClose();else if("overlayOpen"==e.data){"fixed"!==m.style.position&&(m.style.minHeight=w().toString()+"px"),m.style.display="block",m.contentWindow.postMessage("overlayOpen",m.src);var n=window.navigator.userAgent;(n.match(/iPad/i)||n.match(/iPhone/i))&&window.scrollTo(0,0),"function"==typeof Findation.widgetDidOpen&&Findation.widgetDidOpen()}else if("buttonLoadSuccess"==e.data){document.body.appendChild(m);var t=document.getElementById("findation-button-iframe");t.style.width="200px",t.style.height="40px","function"==typeof Findation.widgetEmbedded&&Findation.widgetEmbedded(t)}else"searchComplete"==e.data.eventName&&"function"==typeof Findation.onSearchComplete&&Findation.onSearchComplete(e.data)}))}};
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function(n){"use strict";var t=require("./tagcontainer/tagcontainer.js"),e=function(e){n.b1Ctn||(n.b1Ctn={},b1Ctn=t.init()),n.b1Ctn&&e===!0&&(b1Ctn=t.init())},i=require("./settings/settings.js").domain,o=function(){var t,e,o=n.document.getElementsByTagName("script");for(t=0;t<o.length;t++)if(e=o[t],e.src.indexOf(i+"/tagcontainer")>=0){var a,r,d,s,c={},f=e.src.lastIndexOf("?");if(-1!==f)for(s=e.src.slice(f+1),a=s.split("&"),d=0;d<a.length;d++)r=a[d].split("="),r.length<2&&r.push(""),c[n.decodeURIComponent(r[0])]=n.decodeURIComponent(r[1]);var l=c.onload;return!("string"==typeof l&&"false"===l.toLowerCase())}},a=function(){var t,e,i=n.document.getElementsByTagName("script");for(t=0;t<i.length;t++)if(e=i[t],e.src.indexOf("/tagcontainer")>=0&&!e.attributes.done&&n.b1Ctn)return!0;return!1},r=a();o()&&!r?window.attachEvent?window.attachEvent("onload",e):window.addEventListener?window.addEventListener("load",e,!1):document.addEventListener("load",e,!1):r?e(!0):e()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"./settings/settings.js":2,"./tagcontainer/tagcontainer.js":3}],2:[function(require,module,exports){
module.exports={domain:'js.b1js.com',tagsDomain:'tags.b1js.com',trackerDomain:'b1img.com',placeholders:{"[REDIRECT_URL]":"redir","[ORDER_ID]":"order_id","[REVENUE]":"value"},liveramp:"idsync.rlcdn.com/448956.gif?partner_uid="};
},{}],3:[function(require,module,exports){
(function(e){var t,r,n,o,i,s,a,c,d,u,l,p,g,f,m,v,h,y,_,w,x,C,j=require("../utilities/jqLite.js");i=require("../settings/settings.js").domain,s=require("../settings/settings.js").tagsDomain,a=require("../settings/settings.js").trackerDomain,y=require("../settings/settings.js").liveramp,protocol="https:"==e.document.location.protocol?"https://":"http://",f=require("../settings/settings.js").placeholders,c=function(t){var r,n,o,i={},s=t.lastIndexOf("?");if(-1!==s)for(t=t.slice(s+1),r=t.split("&"),o=0;o<r.length;o++)n=r[o].split("="),n.length<2&&n.push(""),i[e.decodeURIComponent(n[0])]=e.decodeURIComponent(n[1]);return i},t=function(t,r){r=r||!1;for(var n=e.document.getElementsByTagName("script"),o=[],i=0;i<n.length;i++){var s=n[i],a=r||!s.attributes.done;s.src.indexOf(t+"/tagcontainer")>=0&&a&&(o.push(c(s.src)),s.attributes.done=!0)}return o},d=function(e){e.from_EU?w(e):x(e)},w=function(e){for(var t=0;t<r.length;t++){var n=r[t],o=n.id,i="";i+=protocol+a+"/",i+=o+"/eu_tag",i+="?type="+n.type,"0"===n.type&&(i+=h("order_id",n.order_id),i+=h("value",n.value)),p(i,"img")}},x=function(e){C(r);for(var t=0;t<r.length;t++)switch(r[t].type){case"0":l(r[t],e.conversion_tags);break;case"1":u(e.universal_tags),_(e.adnxs_universal_tags,e.adnxs_universal_tags_domain)}},p=function(e,t){var r,n,o;switch(t){case"js":r=document.createElement("script"),r.type="text/javascript",r.src=e,n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(r,n);break;case"img":o=document.createElement("img"),o.src=e}},u=function(t){var r,n;for(r=0;r<t.length;r++)n=t[r],n.keywords?g(n.keywords,e.document.location.pathname+e.document.location.search)&&p(n.url,n.type):p(n.url,n.type)},_=function(r,n){var o,s,c=[];for(o=0;o<r.length;o++)s=r[o],s.keywords?g(s.keywords,e.document.location.pathname+e.document.location.search)&&c.push(s.id):c.push(s.id);var d="";if(c.length>0){for(o=0;o<c.length;o++)d+=c[o]+",";d=d.slice(0,-1)}p(n+"?add="+d+"&t=2","img");var u=t(i,!0)[0].id;p(protocol+a+"/"+u+"/cs_tag/?ids="+d,"img")},g=function(e,t){var r,n,o,i=[];for(r=0;r<e.length;r++)i[r]=e[r].replace(/\s/g,"%20"),i[r]=i[r].replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");if(n=new RegExp("(?:[-_#&?/=.]|%20)(?:"+i.join("|")+")(?=%20|[-_&#?/=.]|$)"),n.test(t))return!0;for(o=document.body.innerText,r=0;r<e.length;r++){if(o.indexOf(e[r])>-1)return!0;if(e[r].indexOf(String.fromCharCode(32))>-1&&(e[r]=e[r].replace(String.fromCharCode(32),String.fromCharCode(160)),o.indexOf(e[r])>-1))return!0}return!1},l=function(e,t){var r,n,o,i;for(r=0;r<t.length;r++){n=t[r],o=c(n.url),i=n.url;for(var s in f)f.hasOwnProperty(s)&&(i=i.replace(s,encodeURIComponent(e[f[s]]||"")));p(i,n.type)}},n=function(){r=t(i),r.length>0&&o(r[0].id)},C=function(e){for(var t=0;t<e.length;t++)m(e[t])},v=function(){var e,t="uuid=",r=document.cookie.split(";");for(e=r.length-1;e>-1;e--){for(var n=r[e];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return!1},m=function(e){var t=e.type,r=v(),n="";t||(t=e.order_id||e.value||e.redir?"0":"1"),n=protocol+a+"/js_container?site_id="+e.id+"&type="+t+"&callback=b1Ctn.parseUuidResponse",n+=h("visitor",r),"0"===t&&(n+=h("order_id",e.order_id),n+=h("value",e.value),n+=h("redir",e.redir)),j.getJSONP(n)},h=function(e,t){return t?"&"+e+"="+t:""},sendToLiverampAndSaveCookie=function(e){var t=new Date;t.setTime(t.getTime()+31536e7);var r="expires="+t.toUTCString();document.cookie="uuid="+e.visitor+"; "+r+"; path=/;"},o=function(e){j.getJSONP(protocol+s+"/tags/"+e+".js")},exports.init=function(){var e={process:n,parseResponse:d,parseUuidResponse:sendToLiverampAndSaveCookie};return e.process(),e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"../settings/settings.js":2,"../utilities/jqLite.js":4}],4:[function(require,module,exports){
"use strict";var jsonResponseParserGenerator,modernizrLite=require("./modernizrLite.js");jsonResponseParserGenerator=function(e){return e instanceof Function?function(){var t;try{t=JSON.parse(this.responseText)}catch(n){t=this.responseText}e(t)}:exports.noop},exports.getAllElementsWithAttribute=function(e){for(var t=[],n=document.getElementsByTagName("*"),o=0,r=n.length;r>o;o++)null!==n[o].getAttribute(e)&&t.push(n[o]);return t},exports.noop=function(){},exports.param=function(e){var t="";return exports.each(e,function(e,n){t+="&"+encodeURIComponent(e)+"="+encodeURIComponent(n)}),t.substr(1)},exports.ajax=function(e){var t,n=e.contentType||"application/x-www-form-urlencoded; charset=UTF-8",o=e.type,r=e.url,s=void 0===e.async?!0:e.async,a=e.data,i=jsonResponseParserGenerator(e.success),c=jsonResponseParserGenerator(e.error);if(a)switch(n){case"application/json; charset=UTF-8":a=JSON.stringify(a);break;case"application/x-www-form-urlencoded; charset=UTF-8":a=this.param(a);break;default:console.error('Unexpected contentType "'+n+'"')}modernizrLite.xhr2?(t=new XMLHttpRequest,t.open(o,r,s),a&&t.setRequestHeader("Content-Type",n),t.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?i.call(this):c.call(this))},t.send(a)):(t=new XDomainRequest,t.open(o,r),t.onload=i,t.onerror=c,t.send(a))},exports.getJSONP=function(e){var t,n;t=document.createElement("script"),t.type="text/javascript",t.async=!0,t.src=e,n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(t,n)},exports.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},exports.text=function(e,t){void 0!==e.textContent?e.textContent=t:e.innerText=t},exports.on=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,function(){n.apply(e,arguments)})},exports.each=function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&t(n,e[n])},exports.extend=function(e){var t,n;for(t=1;t<arguments.length;t+=1)n=arguments[t],n&&exports.each(n,function(t,n){"object"===exports.type(n)?("object"!==exports.type(e[t])&&(e[t]={}),exports.extend(e[t],n)):e[t]=n})},exports.type=function(e){var t;return t=void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},exports.hide=function(e){e.style.display="none"},exports.show=function(e){e.style.display="block"},exports.isHidden=function(e){return""===e.style.display||"none"===e.style.display};
},{"./modernizrLite.js":5}],5:[function(require,module,exports){
"use strict";var progEv=Boolean(window.ProgressEvent),fdata=Boolean(window.FormData),wCreds=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;exports.xhr2=Boolean(progEv&&fdata&&wCreds);
},{}]},{},[1])
